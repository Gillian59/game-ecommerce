{% extends "layout/index.njk" %}

{% block title %}
  <title>GD: {{platform.name}}</title>
{% endblock %}

{% block content %}
  <div class="container mt-5 mb-5">
    <div class="row justify-content-center align-items-center">
      <h1>{{platform.name}}</h1>
      <a href="/platforms/{{platform.slug}}/edit" class="btn btn-success ml-5">Edit</a>
    </div>
  </div>
  <div class="container mb-5">
    <div class="row">
      <div class="col text-center">
        <img class="mx-auto img-fluid" src="{{platform.platform_logo.url}}" alt="{{platform.name}}">
      </div>
      <div class="col">
        {{platform.summary}}
      </div>
    </div>
  </div>

  <div class="game-list row">
    {% for game in platform.games %}
      <div class="col-12 col-sm-4 col-md-3 d-flex align-items-stretch mb-5">
        <div class="card p-3 border-light d-flex flex-column flex-fill">
          {% if game.cover.url %}
            <img 
              class="img-fluid mx-auto" 
              src="{{game.cover.url}}" 
              alt="{{game.name}} cover"/>
          {% else %}
            <img
              class="img-fluid mx-auto"
              src="/assets/images/no-cover.png"
              alt="{{game.name}} cover"/>
          {% endif %}

          <div class="card-body d-flex flex-column justify-content-between">
            <a href="/games/{{game.slug}}">{{game.name}}</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
